<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- <script
      src="https://cdn.tiny.cloud/1/qagffr3pkuv17a8on1afax661irst1hbr4e6tbv888sz91jc/tinymce/6/tinymce.min.js"
      referrerpolicy="origin"
    ></script> -->
    <script src="tinymce/js/tinymce/tinymce.min.js"></script>
    <script>
      tinymce.init({
        // theme: 'silver',
        // mobile: {
        //   theme: 'mobile',
        //   plugins: 'autosave lists autolink',
        //   toolbar: 'undo bold italic styleselect image bullist numlist fontsizeselect '
        // },
        selector: "#mytextarea",
        onchange_callback: "myCustomOnChangeHandler",
        menubar: false,
        statusbar: false,
        plugins:
          "preview importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media template codesample table charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help charmap quickbars emoticons",
        toolbar:
          "bold italic underline strikethrough",
        content_style:
          "body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",
      });
    </script>
  </head>

  <body>
    <form method="post">
      <textarea id="mytextarea"></textarea>
    </form>
  </body>
  <script type="text/javascript">
    var myContent = tinymce.get("mytextarea").getContent({ format: "text" });
    function showAndroidToast(toast) {
      console.log("myContent", tinymce.activeEditor.getContent("myTextarea"));
      Ucware.showToast(
        JSON.stringify(tinymce.activeEditor.getContent("myTextarea"))
      );
    }
    var myVar = null;
    function getFromAndroid() {
      
      window.webkit.messageHandlers.iOSNative.postMessage(tinymce.activeEditor.getContent("myTextarea"));
      
    }
      
      function getMessageBodyiOS() {
          window.webkit.messageHandlers.iOSNative.postMessage(tinymce.activeEditor.getContent("myTextarea"));
          
      }
      
      function setMessageBodyiOS(bodyData) {
          tinymce.activeEditor.setContent(bodyData);
          alert("setMessageBodyiOS :" + bodyData);
      }
      
      function getMessageBodyAOS() {
           Ucware.getMessageBodyAOS(
            tinymce.activeEditor.getContent("myTextarea")
          );
          
      }
      
      function setMessageBodyAOS(bodyData) {
          tinymce.activeEditor.setContent(bodyData);
          
      }

    function myCustomOnChangeHandler(inst) {
      // alert("Some one modified something");
      alert("The HTML is now:" + inst);
    }
  </script>
</html>
